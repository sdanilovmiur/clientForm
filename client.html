<!DOCTYPE html>
<html>

<body>
    <h1 style="text-align: center;">Prova Form di validazione lato Client</h1>
    <form name="registrazione" id="registrazione" method="post">

        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" value=""><br>
        <p id="errorUser" style="color: red;"></p>

        <label for="pwd">Password:</label><br>
        <input type="password" id="pwd" name="pwd" ><br>
        <p id="errorPwd" style="color: red;"></p>

        <label for="email">Mail:</label><br>
        <input type="email" id="email" name="email" placeholder="inserisci mail"><br><br> 

        <label for="birthday">Birthday:</label>
        <input type="date" id="birthday" name="birthday" min="1920-01-01" max="2024-12-31"> <br><br>

        <input type="submit" name="Submit" value="Invia">
    </form>

    <script>
        error = 0;
        document.getElementById("registrazione").addEventListener("submit", function(event){
            let username = document.forms.registrazione.username;
            let passw = document.forms.registrazione.pwd;
            let email = document.forms.registrazione.email;
            let birthday = document.forms.registrazione.birthday;

            if(username.value == "" || username.value.length < 3 || username.value.length > 15){
                if(username.value == "" || username.value.length < 3)
                    document.getElementById("errorUser").innerHTML = "Username troppo corto";
                else if(username.value.length > 15)
                    document.getElementById("errorUser").innerHTML = "Username troppo lungo";
                username.style.border = "2px solid red";
                error=1
            } else{
                document.getElementById("errorUser").innerHTML = "&nbsp";
                username.style.border = "";
            } 

            if(passw.value == "" || passw.value.length < 8 || passw.value.length > 10){
                if(passw.value == "" || passw.value.length < 8)
                    document.getElementById("errorPwd").innerHTML = "Password troppo corta";
                else if(passw.value.length > 10)
                    document.getElementById("errorPwd").innerHTML = "Password troppo lunga";
                passw.style.border = "2px solid red";
                error=1
            } else{ 
                document.getElementById("errorUser").innerHTML = "&nbsp";
                passw.style.border = ""; 
            }

            if(email.value == "" || (!email.value.includes("@gmail.com") && !email.value.includes("@itis.pr.it"))){
                email.style.border = "2px solid red";
                error=1
            } else email.style.border = "";
            if(error === 1)
                event.preventDefault();
        });
    </script>

</body>

</html>
